apply plugin: 'scala'

repositories {
	mavenCentral()
}

sourceSets {
	main {
		scala {
			srcDirs += 'build/twirl'
		}
	}
}

dependencies {
	compile 'org.scala-lang:scala-library:2.11.8'
	compile 'com.typesafe.play:play-java_2.11:2.4.3'
}

task compilePlayTwirlTemplates(type: TwirlCompile) {
	
	setPlatform([
		getJavaPlatform: {'1.8'},
		getPlayVersion: {'2.4.3'},
		getScalaPlatform: {[
			getScalaCompatibilityVersion: {'2.11'},
			getScalaVersion: {'2.11.8'}
		] as ScalaPlatform}
	] as PlayPlatform)
	
	defaultImports = 'JAVA'
	
	source = files('src/main/twirl')
	include '**/*.scala.xml'
	
	outputDirectory = file('build/twirl')
}

compileScala.dependsOn(compilePlayTwirlTemplates)